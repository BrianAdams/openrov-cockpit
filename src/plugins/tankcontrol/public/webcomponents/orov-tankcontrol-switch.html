<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="orov-tankcontrol-switch-behavior.html">
<link rel="import" href="../paper-toggle-button/paper-toggle-button.html">
<dom-module name="orov-tankcontrol-switch">
<style>
</style>
<template>
    <paper-toggle-button id="toggle" on-change="_handleSwitchChange" checked="[[_isActive()]]"></paper-toggle-button>
</template>
<script>

(function() {
  Polymer({
    is:'orov-tankcontrol-switch',
    properties: {
          defaultPanel:{type:String,value:"flight-switches"},
          shortName:{type:String,value:"TNK"},
          description:{type:String,value:"Tank control controller configuration"}
    },
    //TODO: Figure out why I have to directly reference the behavior for eventEmitter via oROVStandard when it is already referenced inside oROVtankControlSwitch. If I don't reference
    //it, the eventEmitter behavior's attached() does not fire.  Bug?!?!
    behaviors: [namespace('behaviors').oROVStandard,window.OROV.behaviors.switchBehavior,namespace('behaviors').oROVtankControlSwitch],
    _handleSwitchChange:function(){
        if (this.$.toggle.checked){
            this.on();
        } else {
            this.off();
        }
    },
    _isActive:function(switchState){
        if(this.switchState=='on'){
            return true;
        }
        return false;
    }
  })
})();
</script>
</dom-module>
